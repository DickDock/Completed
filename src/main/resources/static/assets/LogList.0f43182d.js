import{q as e,t as a,u as t,c as o}from"./element-plus.a4214889.js";import{h as s}from"./http.273b183e.js";import{_ as r}from"./index.379757c1.js";import{d as n,c as l,a as i,O as g,L as p,o as d,Q as h}from"./@vue.29674ac9.js";import"./@vueuse.841c8c19.js";import"./async-validator.5d25c98b.js";import"./@element-plus.d61064a3.js";import"./lodash-es.96156c96.js";import"./@ctrl.2e36ce53.js";import"./@popperjs.7a88ba6a.js";import"./normalize-wheel-es.9a219a59.js";import"./axios.39719cf4.js";import"./vue-router.9e388f4a.js";const u=n({name:"LogList",mounted(){this.getLogsByPage()},methods:{tableRowClassName:e=>e.rowIndex%2==0?"text-green-400":"text-red-400",getLogsByPage(){(class{static getLogByPage(e,a){return s.request({url:"logs/pages/"+e+"/"+a,method:"GET"})}}).getLogByPage(this.paginationData.current,this.pageSize).then((e=>{this.paginationData=e.data,this.loading=!this.loading})).catch((e=>{console.log("err"+e)}))},handleSizeChange(e){console.log(`${e} items per page`),this.pageSize=e,this.loading=!this.loading,this.getLogsByPage()},handleCurrentChange(e){console.log(`current page: ${e}`),this.loading=!this.loading,this.getLogsByPage()}},data:()=>({tableData:[],pageSize:15,paginationData:{records:[],current:1,total:0}})}),c={class:""},m={class:""};var f=r(u,[["render",function(s,r,n,u,f,w){const j=e,C=a,z=t,b=o;return d(),l("div",c,[i("div",m,[g(C,{data:s.paginationData.records,style:{width:"100%"},"empty-text":"数据加载中","row-class-name":s.tableRowClassName},{default:p((()=>[g(j,{prop:"reqUrl",label:"请求Url"}),g(j,{prop:"reqMethod",label:"请求方式",width:"100"}),g(j,{label:"请求参数","show-overflow-tooltip":!0},{default:p((e=>[i("span",null,h(e.row.reqArgs),1)])),_:1}),g(j,{label:"请求方式名","show-overflow-tooltip":!0},{default:p((e=>[i("span",null,h(e.row.reqMethodName),1)])),_:1}),g(j,{label:"请求类","show-overflow-tooltip":!0},{default:p((e=>[i("span",null,h(e.row.reqClass),1)])),_:1}),g(j,{prop:"createTime",label:"创建时间"})])),_:1},8,["data","row-class-name"]),g(b,{justify:"center"},{default:p((()=>[g(z,{currentPage:s.paginationData.current,"onUpdate:currentPage":r[0]||(r[0]=e=>s.paginationData.current=e),"page-sizes":[15,20,50,100,200,500],"page-size":s.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:s.paginationData.total,"hide-on-single-page":!0,onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])),_:1})])])}]]);export{f as default};
